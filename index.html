<!DOCTYPE html>
<html>
<head>
    <title>Weather App</title>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link rel="icon" href="images/favicon.png" type="image/png" size="16x16">
    <meta name="keywords" content="Central Province | Weather Forecast | Weather App |    ">
    <meta name="Author" content="Joseph Bwalya">
    <meta name="Description" content="Weather Application Forecast For Central Province" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
    <link rel="stylesheet" type="text/css" href="./css/fontawesome/css/all.css">
    <link rel="stylesheet" type="text/css" href="./css/bootstrap/css/bootstrap.css">
    <link rel="stylesheet" href="./css/style.css">
    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
    <script type="text/javascript" src="./js/jquery.js"></script>
    <style>
        .footer-wraper 
        {
            text-transform: uppercase;
            color: black;
        }
        #industries 
        {
            width: 100%;
            background-image: url('./images/white-abstract-background-design_23-2148825582.avif');
            background-repeat: no-repeat;
            background-position: center;
            background-size: cover;
            object-fit: cover;
            background-attachment: fixed;
        }
        #works
        {
            width: 100%;
            background-image: url('./images/businesswomen-working-at-desks-2154482-2.jpg');
            background-repeat: no-repeat;
            background-position: center;
            background-size: cover;
            object-fit: cover;
            background-attachment: fixed;
        }
        #banner
        {
            width: 100%;
            background-image: url('./images/i/a.jpg');
            background-repeat: no-repeat;
            background-position: center;
            background-size: cover;
            object-fit: cover;
            background-attachment: fixed;
        }
        #banner .banner-fader 
        {
            height: 80vh;
            background: rgb(0, 0, 0);
            opacity: 0.845437;       
        }
        #marketeers
        {
            width: 100%;
            background-image: url('./images/3.jpg');
            background-repeat: no-repeat;
            background-position: center;
            background-size: cover;
            object-fit: cover;
            height: 70vh;
            background-attachment: fixed;
        }
        #marketeers-2
        {
            width: 100%;
            background-image: url('./images/livestock.jpg');
            background-repeat: no-repeat;
            background-position: center;
            background-size: cover;
            object-fit: cover;
            background-attachment: fixed;
            height: 70vh;
        }
        #locations 
        {
            width: 100%;
            background-image: url('./images/marketeers.jpg');
            background-repeat: no-repeat;
            background-position: center;
            background-size: cover;
            object-fit: cover;
            background-attachment: fixed;
        }
        .highlights-cover
        {
            width: 100%;
            background-image: url('./images/2.jpg');
            background-repeat:repeat-y;
            background-position: center;
            background-size: cover;
            object-fit: cover;
            background-attachment: fixed;
        }
        .highlights-cover .highlight-card
        {
            width: 100%;
            background-image: url('./images/4.jpg');
            background-repeat: no-repeat;
            background-position: top center;
            background-size: cover;
            object-fit: cover;
            background-color: black;
        }
        .highlight-fader
        {
            padding-top: 15%;
            padding-bottom: 15%;
            color: rgb(238, 238, 238);
            background-color: black;
            margin: 0;
            opacity: 0.787878;
        }
        .nav-menu-slide
        {
            width: 100%;
            background-image: url('./images/4.jpg');
            background-repeat: no-repeat;
            background-position: center;
            background-size: cover;
            object-fit: cover;
        }
    </style>
</head>
<body>
    <main>
        <header class="banner" id="banner">
            <div class="banner-fader">
                <div class="main-nav-bg">
                    <div class="container">
                        <nav class="main-nav">
                            <div class="icon-logos">
                                <a href="index.html" class="logo">
                                    <img src="./images/logo.png" alt="logo"/>
                                </a>
                            </div>
                            <div class="nav-menu">
                                <ul>
                                    <li class="nav-item"><a href="index.html?#services-site">Our Services</a></li>
                                    <li class="nav-item"><a href="index.html?#trending-news">Weather News</a></li>
                                    <li class="nav-item"><a href="index.html?#current-city">My Town</a></li>
                                    <li class="nav-item"><a href="index.html?#five-days-forecast">Forecast For Five Days</a></li>
                                    <li class="nav-item"><a href="index.html?#weather-conditions">Saved Districts</a></li>
                                    <li class="nav-item nav-icon">
                                        <a href=""><i class="fab fa-whatsapp"></i></a>
                                    </li>
                                    <li class="nav-item nav-icon">
                                        <a href=""><i class="fab fa-facebook"></i></a>
                                    </li>
                                    <li class="nav-item nav-icon">
                                        <a href=""><i class="fa fa-phone"></i></a>
                                    </li>
                                    <li class="nav-item nav-icon">
                                        <a href="mailto:"><i class="fa fa-envelope"></i></a>
                                    </li>
                                    <li class="mob-nav-menu"><a><i class="fa fa-bars"></i></a></li>
                                </ul>
                            </div>
                        </nav>
                    </div>
                </div>
                <div class="container">
                    <div class="row">
                        <div class="banner-text-wrap">
                            <div class="banner-text">
                                <h2 class="banner-text-title">CENTRAL PROVINCE WEATHER APP</h2>
                                <p class="banner-text-desc">
                                    Central Province is one of Zambia's ten administrative provinces, 
                                    located in the central part of the country. It's a significant 
                                    region in Zambia, both historically and economically.
                                </p>
                            </div>
                        </div>
                    </div>
                    <div class="row search-results">
                        <div class="search-canvas shadow">
                            <div class="err-display" id="err-display"></div>
                            <form action="" method="get">
                                <input type="text" 
                                        name="search" 
                                        id="search" 
                                        class="form-control"
                                        placeholder="City/Town Name..." />
                                <button type="button"  
                                        id="search-btn" 
                                        class="form-control btn btn-success btn-sm weather-button">
                                        Search Weather <i class="fa fa-search"></i>
                                </button>
                                <button type="button" 
                                        id="fav-city" 
                                        class="form-control btn btn-outline-success btn-sm weather-button">
                                        Save City  <i class="fa fa-heart"></i>
                                </button>
                                <button type="button" 
                                    id="conver-units-btn" 
                                    class="form-control btn btn-success btn-sm weather-button">
                                    Change Units  <i class="fa fa-loading"></i>
                            </button>
                                <span class="city-indicator-wrap"></span>
                            </form>
                        </div>
                        <div class="searched-canvas">
                            <div class="result">
                                <i class="fa fa-sun"></i>
                                <span id="temp-level" class="condition-level">0</span>
                                <strong>Temp</strong>
                            </div>
                            <div class="result">
                                <i class="fa fa-cloud"></i>
                                <span id="cloudy-level" class="condition-level">0</span>
                                <strong>Cloudy</strong>
                            </div>
                            <div class="result">
                                <i class="fa fa-cloud-rain"></i>
                                <span id="pressure-level" class="condition-level">0</span>
                                <strong>Pressure</strong>
                            </div>
                            <div class="result">
                                <i class="fa fa-cloud-sun"></i>
                                <span id="humidity-level" class="condition-level">0</span>
                                <strong>Humidity</strong>
                            </div>
                            <div class="result">
                                <i class="fa fa-wind"></i>
                                <span id="windy-level" class="condition-level">0</span>
                                <strong>Wind</strong>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </header>
        <section class="about-wrap" id="services-site">
            <div class="container">
                <div class="row">
                    <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 about-desc">
                        <p class="lead about-dsc-text">
                            <h2><strong>Our Services</strong></h2>
                            Fast and friendly, we’re on the ball,
                            Your satisfaction’s our call!
                            We listen close, we do it right,
                            Every job, day or night!

                            Good service, that’s what we do,
                            Going the extra mile for you!
                            Trust in us, we’ll see it through,
                            With a smile, we’ll make dreams come true!
                            <br>
                            <br>
                            Fast and friendly, we’re on the ball,
                            Your satisfaction’s our call!
                            We listen close, we do it right,
                            Every job, day or night!
                            Good service, that’s what we do,
                            Going the extra mile for you!
                            Trust in us, we’ll see it through,
                            With a smile, we’ll make dreams come true!
                        </p>
                    </div>
                </div>
                <div class="row site-boxes-wrapper">
                    <div class="col-xs-12 col-sm-12 col-md-4 col-lg-4 col-xl-4">
                        <div class="site-box shadow">
                            <i class="fa fa-paper-plane"></i>
                            <h4 class="site-box-title">Current Weather</h4>
                            <p class="sit-box-desc">
                                This application provides information about the
                                current weather in your locality, city, town 
                                and district.
                            </p>
                            <a href="" class="btn btn-success btn-lg btn-block">Read More ..</a>
                        </div>
                    </div>
                    <div class="col-xs-12 col-sm-12 col-md-4 col-lg-4 col-xl-4">
                        <div class="site-box shadow">
                            <i class="fa fa-paper-plane"></i>
                            <h4 class="site-box-title">Five Days Forecast</h4>
                            <p class="sit-box-desc">
                                This application provides information about the
                                current weather in your locality, city, town 
                                and district for five days ahead of time.
                            </p>
                            <a href="" class="btn btn-success btn-lg btn-block">Read More ..</a>
                        </div>
                    </div>
                    <div class="col-xs-12 col-sm-12 col-md-4 col-lg-4 col-xl-4">
                        <div class="site-box shadow">
                            <i class="fa fa-paper-plane"></i>
                            <h4 class="site-box-title">Save Cities</h4>
                            <p class="  ">
                                This application provides information about the
                                current weather in your locality, city, town 
                                and district and allows you to save weather data.
                            </p>
                            <a href="" class="btn btn-success btn-lg btn-block">Read More ..</a>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        <section class="services sect-pd" id="five-days-forecast">
            <div class="container">
                <div class="vss-text-title">
                    <h3 class="vss-title" style="color:green;">FIVE(5) DAY WEATHER FORECAST</h3>
                    <p class="vss-title-desc">
                        Updates once reponse is received from the API.
                    </p>
                </div>

            </div>
            <div class="container">
                <div class="row justify-content-center site-boxes-wrapper" id="five-day-focus-wrapper">
                </div>
            </div>
        </section>
        <section class="about-wrap news-wrapper" id="trending-news">
            <div class="container">
                <div class="row">
                    <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 about-desc">
                        <div class="lead about-dsc-text text-center" style="width: 100%;">
                            <h1><strong>Trending Weather News</strong></h1>
                        </div>
                    </div>
                </div>
                <div class="row site-boxes-wrapper">
                    <div class="col-xs-12 col-sm-12 col-md-4 col-lg-4 col-xl-4">
                        <div class="site-box shadow">
                            <i class="fa fa-paper-plane"></i>
                            <h4 class="site-box-title">Yellow warning of snow and ice</h4>
                            <p class="sit-box-desc">
                                Areas affected: Grampian | Highlands & Eilean Siar | Orkney & Shetland
                                Starts: 16:00 GMT on Sun 17 NovemberEnds: 11:00 GMT on Mon 18 November
                                Ice and some snow leading to slippery surfaces and difficult travel conditions.
                            </p>
                            <a href="" class="btn btn-success btn-lg btn-block">Read More ..</a>
                        </div>
                    </div>
                    <div class="col-xs-12 col-sm-12 col-md-4 col-lg-4 col-xl-4">
                        <div class="site-box shadow">
                            <i class="fa fa-paper-plane"></i>
                            <h4 class="site-box-title">Flood warning</h4>
                            <p class="sit-box-desc">
                                Flooding is expected - immediate action required
                                Higher than normal tides, large waves and spray overtopping today (Sunday, 17/11/2024) may lead to flooding at North Sea at Roker, Sunderland
                                Tides will be at their highest between 15:00 PM and 18:00 PM on 17/11/2024.
                            </p>
                            <a href="" class="btn btn-success btn-lg btn-block">Read More ..</a>
                        </div>
                    </div>
                    <div class="col-xs-12 col-sm-12 col-md-4 col-lg-4 col-xl-4">
                        <div class="site-box shadow">
                            <i class="fa fa-paper-plane"></i>
                            <h4 class="site-box-title">Torando Warning</h4>
                            <p class="  ">
                                Flooding is expected - immediate action required
                                Higher than normal tides, large waves and spray overtopping today (Sunday, 17/11/2024) may lead to flooding at North Sea at Roker, Sunderland
                                Tides will be at their highest between 15:00 PM and 18:00 PM on 17/11/2024.
                            </p>
                            <a href="" class="btn btn-success btn-lg btn-block">Read More ..</a>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        <section class="highlights highlights-cover" id="current-city">
            <div class="highlight-fader">
                <div class="container">
                    <div class="hl-text-title">
                        <h3 class="hl-title">WEATHER IN MY CURRENT LOCATION</h3>
                    </div>
                </div>
                <div class="container">
                    <div class="hightlights-wrap row-sp-evn">
                        <div class="highlight-card shadow">
                            <i class="fa fa-sun"></i>
                            <p class="highlight-card-desc">
                                <strong><h4>Temperature<br> Prediction</h4></strong>
                                <h1 id="current-city-temp-level" class="condition-level current-city-level">0</h1>
                            </p>
                            <a href=""><i class="fa fa-eye"></i></a>
                            <a href=""><i class="fa fa-lock"></i></a>
                        </div>
                        <div class="highlight-card shadow">
                            <i class="fa fa-cloud-sun"></i>
                            <p class="highlight-card-desc">
                                <strong><h4>Humidity <br> Prediction</h4></strong>
                                <h1 id="current-city-humidity-level" class="condition-level current-city-level">0</h1>
                            </p>
                            <a href=""><i class="fa fa-eye"></i></a>
                            <a href=""><i class="fa fa-lock"></i></a>
                        </div>
                        <div class="highlight-card shadow">
                            <i class="fa fa-cloud-rain"></i>
                            <p class="highlight-card-desc">
                                <strong><h4>Cloudy <br> Prediction</h4></strong>
                                <h1 id="current-city-cloudy-level" class="condition-level current-city-level">0</h1>
                            </p>
                            <a href=""><i class="fa fa-eye"></i></a>
                            <a href=""><i class="fa fa-lock"></i></a>
                        </div>
                        <div class="highlight-card shadow">
                            <i class="fa fa-water"></i>
                            <p class="highlight-card-desc">
                                <strong><h4>Wind <br> Prediction</h4></strong>
                                <h1 id="current-city-windy-level" class="condition-level current-city-level">0</h1>
                            </p>
                            <a href=""><i class="fa fa-eye"></i></a>
                            <a href=""><i class="fa fa-lock"></i></a>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        <footer class="footer-wraper">
            <div class="footer-fader">
                <div class="container">
                    <div class="row justify-content-center">
                        <div class="col-xs-12 col-sm-12 col-md-4 col-lg-4 col-xl-4 text-left">
                            <div class="footer-contact" style="margin-bottom:20%;">
                                <h6>INFORMATION</h6>
                                <ul class="list-group">
                                    <li><a href="index.html">Home</a></li>
                                    <li class="nav-item"><a href="index.html?#services-site">Our Services</a></li>
                                    <li class="nav-item"><a href="index.html?#trending-news">Weather News</a></li>
                                    <li class="nav-item"><a href="index.html?#current-city">My Town</a></li>
                                    <li class="nav-item"><a href="index.html?#five-days-forecast">Forecast For Five Days</a></li>
                                    <li class="nav-item"><a href="index.html?#weather-conditions">Saved Districts</a></li>
                                </ul>
                            </div>
                        </div>
                        <div class="col-xs-12 col-sm-12 col-md-4 col-lg-4 col-xl-4 text-left">
                            <div class="footer-contact" style="margin-bottom:20%;">
                                <h6>COMMON SEARCHES</h6>
                                <ul class="list-group">
                                    <li class="nav-item-2"><a href="index.html?#marketeers">Central Province</a></li>
                                    <li class="nav-item-2"><a href="index.html?#marketeers"></a>Kabwe</li>
                                    <li class="nav-item-2"><a href="index.html?#marketeers">Chisamba</a></li>
                                    <li class="nav-item-2"><a href="index.html?#marketeers">Kapiri</a></li>
                                    <li class="nav-item-2"><a href="index.html?#marketeers">Lusaka</a></li>
                                </ul>
                            </div>
                        </div>
                        <div class="col-xs-12 col-sm-12 col-md-4 col-lg-4 col-xl-4 text-left">
                            <div class="footer-contact" style="margin-bottom:20%;">
                                <h6>OPPORTUNITIES</h6>
                                <ul class="list-group">
                                    <li><a href="">Internship Program</a></li>
                                    <li><a href="">Telescope Viewing Program</a></li>
                                    <li><a href="">Learning Opportunities</a></li>
                                    <li class="nav-item"><a href="https://www.icuzambia.net">ICU Zambia</a></li>
                                    <li class="nav-item"><a href="https://www.zrdc.org">ZRDC</a></li>
                                </ul>
                            </div>
                        </div>
                    </div> 
                    <div class="row">
                        <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 col-xl-12">
                            <div class="signature text-center">
                                &copy;2024.All Rights Reserved.Joseph Bwalya, SIN: 2311221822, BSc. Electrical And Electronics Engineering</a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </footer>
    </main>
    <div class="nav-menu-slide">
        <div class="nm-slide-title row-sp-btn">
            <h4><strong>MENU</strong></h4>
            <span class="exit-slide-menu">x</span>
        </div>
        <ul>
            <li class="nav-item-2"><a href="index.html">Home</a></li>
            <li class="nav-item"><a href="index.html?#services-site">Our Services</a></li>
            <li class="nav-item-2"><a href="index.html?#trending-news">Weather News</a></li>
            <li class="nav-item-2"><a href="index.html?#current-city">My Town</a></li>
            <li class="nav-item-2"><a href="index.html?#five-days-forecast">Forecast For Five Days</a></li>
            <li class="nav-item-2"><a href="index.html?#weather-conditions">Saved Districts</a></li>
        </ul>
    </div>
    <script src="./js/menu.js" type="text/javascript"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.12.9/dist/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
    <script>
        /****
         * 
         * @@@ Save user current city latitude, longitude and city name
         * 
         * */
        let coords = {
            "lat":"",
            "lng":"",
            "city":""
        };

        /****
         * 
         * @@ Automated AJAX request to fetch current city data 
         * @@ and update records in the JS object data structure 
         * @@ above, using Gelocation Database API
         * 
         * */
        $.ajax({
            type: "GET",
            url: "https://geolocation-db.com/json/",
            async: true,
            success: function(data){
                let location = JSON.parse(data);
                coords.lat = location.latitude;
                coords.lng = location.longitude;
                coords.city = location.city;
                setTimeout(() => {
                    currentCityWeather();
                    fiveDayWeatherForecast(coords);
                }, 5000);
            },                     
            error: function(err){
                $("#err-display").html("<div class='err-notice-bad'>Network failure detected, to fetch weather information, refresh your browser.</div>");      
            } 
        });  

        /****
         * 
         * @@@ OPEN WEATHER MAP API IN USE BELOW
         * @@@ Fetching current user city weather information
         * @@@ Obtains city; latitude, longitude and city name from Object updated by Geolocation API
         * 
         * */
        function currentCityWeather(){
            const lat = coords.lat;
            const lng = coords.lng;
            const current_city = coords.city;
            if(lat!="" && lng!=""){
                $.ajax({
                    type: "GET",
                    url: "https://api.openweathermap.org/data/3.0/onecall?lat="+lat+"&lon="+lng+"&appid=b0fbe96cfe47ba62973a33ed3abfb1f1",
                    async: true,
                    success: function(r){
                        if(r["current"]["temp"]!="" && r["current"]["clouds"]!="" && r["timezone"]!="") {
                            $("#temp-level").html("<span id='searched-city-temp'><span id='changeable-temp'>"+r["current"]["temp"]+"</span><sup>o</sup>C</span>");
                            $("#cloudy-level").html("<span>"+r["current"]["clouds"]+"<sup>oktas</sup></span>");
                            $("#pressure-level").html("<span>"+r["current"]["pressure"]+"<sup>atm</sup></span>");
                            $("#humidity-level").html("<span>"+r["current"]["humidity"]+" g/m<sup>2</sup</span>");
                            $("#windy-level").html("<span>"+r["current"]["wind_deg"]+"<sup>km/h</sup</span>");
                            let cityNameArr = r["timezone"].split("/");
                            $(".city-to-save").html("Weather For: "+cityNameArr[1]);
                            $("#err-display").hide(200);
                            $("#current-city-temp-level").html("<span>"+r["current"]["temp"]+"<sup>o</sup>C</span>");
                            $("#current-city-cloudy-level").html("<span>"+r["current"]["clouds"]+"<sup>oktas</sup></span>");
                            $("#current-city-pressure-level").html("<span>"+r["current"]["pressure"]+"<sup>atm</sup></span>");
                            $("#current-city-humidity-level").html("<span>"+r["current"]["humidity"]+" g/m<sup>2</sup></span>");
                            $("#current-city-windy-level").html("<span>"+r["current"]["wind_deg"]+"<sup>km/h</sup></span>");
                            changeBGImage(r["current"]["weather"][0]["main"]);
                        } else $("#err-display").html("<div class='err-notice'>Failed to fetch weather updates, restart application.</div>");
                    }
                });  
            } else $("#err-display").html("<div class='err-notice'>Loading weather for your city, be patient...</div>");
        }
        currentCityWeather(coords);

        /****
         * 
         * * 
         * @@@ Changes BANNER image to suit weather change
         * @@@ Adaptive to updates made by the OpenWeather API
         * 
         * *  
         * 
         * */
        function changeBGImage(weatherCondition){  
            switch(weatherCondition){
                case "Clear":
                    $("#banner").css("background-image", 'url("./images/i/a.jpg")');
                    break;

                case "Clouds":
                    $("#banner").css("background-image", 'url("./images/i/b.jpg")');
                    break;

                case "Rain":
                    $("#banner").css("background-image", 'url("./images/i/c.jpg")');
                    break;
                default:
                    $("#banner").css("background-image", 'url("./images/i/a.jpg")');
                    break;
            }
        }

         /****
         * 
         * * 
         * @@@ Five days weather Focus Update 
         * @@@ Uses OpenWeatherMapAPI Call
         *  
         * *  
         * 
         * */
        function fiveDayWeatherForecast(coords){
            const lat = coords.lat;
            const lng = coords.lng;
            const current_city = coords.city;
            if(lat!="" && lng!=""){
                $.ajax({
                    type: "GET",
                    url: "https://api.openweathermap.org/data/3.0/onecall?lat="+lat+"&lon="+lng+"&appid=b0fbe96cfe47ba62973a33ed3abfb1f1",          
                    async: true,
                    success: function(r){
                        let focus = r.daily;
                        let fivedaysupdate = "";
                        for (const day in focus) {
                            var focusDate = new Date(focus[day]["dt"] * 1000).toLocaleDateString();
                            fivedaysupdate += '<div class="col-xs-12 col-sm-12 col-md-4 col-lg-4 col-xl-4"><div class="site-box shadow"><i class="fa fa-paper-plane"></i><h4 class="site-box-title">'+focusDate+'</h4><p class="sit-box-desc">'+focus[day]["summary"]+'</p><a href="" class="btn btn-success btn-lg btn-block">Save Weather Now</a> <br><br><br><i class="fa fa-lock"></i></div></div>';
                        }$("#five-day-focus-wrapper").html(fivedaysupdate);
                    }
                });  
            } else $("#err-display").html("<div class='err-notice'>Loading five days weather forecast, you will be updated</div>");
        }

        
        /****
         * 
         * * 
         * @@@ Receives city name from UI/UX
         * @@@ Sends query to OpenWeatherMapAPI
         * @@@ Next, updates UI/UX
         * 
         * *  
         * 
         * */
        $(function(){
            $("#search-btn").click(function(){
                const cityNameq = $("#search").val();
                if(cityNameq!=""){
                    $.ajax({
                        type: "GET",
                        url: "https://api.openweathermap.org/data/2.5/weather?q="+cityNameq+"&appid=b0fbe96cfe47ba62973a33ed3abfb1f1",
                        async: true,
                        success: function(r){
                            if(r["main"]["temp"]!="" && r["clouds"]["all"]!="" && r["timezone"]!="") {
                                $("#temp-level").html("<span id='searched-city-temp'><span class='changeable-temp'>"+r["main"]["temp"]+"</span><sup>o</sup>C</span>");
                                $("#cloudy-level").html("<span>"+r["clouds"]["all"]+"<sup>oktas</sup></span>");
                                $("#pressure-level").html("<span>"+r["main"]["pressure"]+"<sup>atm</sup></span>");
                                $("#humidity-level").html("<span>"+r["main"]["humidity"]+"g/m<sup>2</sup></span>");
                                $("#windy-level").html("<span>"+r["wind"]["deg"]+"<sup>km/h</sup></span>");
                                changeBGImage(r["weather"][0]["main"]);
                                let cityNameSearched = r["name"];
                                $(".city-to-save").html("Weather For: "+cityNameSearched);
                                $("#err-display").hide(200);
                            } else $("#err-display").html("<div class='err-notice'>Check city name, and restart the application.</div>");
                        },
                        error: function(err){
                            $("#err-display").html("<div class='err-notice-bad'>Network failure, restart application.</div>");      
                        } 
                    });   
                } else $("#err-display").html("<div clas='err-notice'>Enter City Name To Search</div>");
            });
        });

        /****
         * 
         * * 
         * @@@ The following saves city weather into Local Storage 
         * @@@ Uses Browser Default API
         * 
         * *  
         * 
         * */
        $(function(){
            $("#save-now").click(function(){
                alert();
                const townLabel = $("#city-to-save").val();
                const townTemperature = $("#searched-city-temp").val();
                if(isCityReady!=""){
                    if(typeof(Storage)){
                        localStorage.setItem("1", townLabel+" is "+townTemperature + "Celsius");
                    } else $("#err-display").html("<div class='err-notice'>This browser does not support local storage, update or use another browser like Operamini, Firefox or Google Chrome</div>");
                } else $("#err-display").html("<div class='err-notice'>You can only save a city after searching</div>");          
            });
        });
    
        
        /****
         * 
         * * 
         * @@@ Gets temperature records, converts to fahrenheit
         * @@@ Next, updates temperature Display on the UI/UX
         * 
         * *  
         * 
         * */
        $(function(){
            $("#conver-units-btn").click(function(){
                let cityCurrTemp = $("#changeable-temp").text();
                if(cityCurrTemp!=""){
                    let f = (cityCurrTemp * (9/5)) + 32;
                    const fahrenheit = Math.round(f,2);
                    $("#temp-level").html("<span><span class='changeable-temp'>"+fahrenheit+"</span><sup>o</sup>F</span>");
                    $("#current-city-temp-level").html("<span><span class='changeable-temp'>"+fahrenheit+"</span><sup>o</sup>F</span>");
                    $("#err-display").html("<div class='err-notice'>Temperature Units Converted</div>");
                    $("#err-display").fadeOut(5000);
                } else $("#err-display").html("<div class='err-notice'>Can only convert if temperature is given</div>");  
                                   
            });
        });
       
    </script>
</body>
</html>